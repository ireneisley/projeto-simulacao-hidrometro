<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Especifica√ß√£o - Painel de Monitoramento de Hidr√¥metros</title>
    <style>
      @media print {
        body {
          margin: 0;
          padding: 20mm;
        }

        .page-break {
          page-break-before: always;
        }

        h1,
        h2 {
          page-break-after: avoid;
        }

        table,
        figure {
          page-break-inside: avoid;
        }
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        max-width: 210mm;
        margin: 0 auto;
        padding: 20px;
        color: #333;
      }

      h1 {
        color: #2c5f7c;
        border-bottom: 3px solid #2c5f7c;
        padding-bottom: 10px;
        margin-top: 40px;
      }

      h2 {
        color: #2c7c2c;
        border-left: 5px solid #2c7c2c;
        padding-left: 15px;
        margin-top: 30px;
      }

      h3 {
        color: #7c2c2c;
        margin-top: 20px;
      }

      .cover-page {
        text-align: center;
        padding: 100px 20px;
        min-height: 80vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .cover-page h1 {
        font-size: 36px;
        border: none;
        color: #2c5f7c;
      }

      .cover-page .subtitle {
        font-size: 24px;
        color: #666;
        margin: 20px 0;
      }

      .cover-page .info {
        margin-top: 50px;
        font-size: 18px;
      }

      .toc {
        background: #f5f5f5;
        padding: 20px;
        border-radius: 5px;
        margin: 30px 0;
      }

      .toc h2 {
        border: none;
        color: #2c5f7c;
        padding: 0;
      }

      .toc ul {
        list-style: none;
        padding-left: 0;
      }

      .toc li {
        margin: 10px 0;
        padding-left: 20px;
      }

      .toc a {
        color: #2c5f7c;
        text-decoration: none;
      }

      .toc a:hover {
        text-decoration: underline;
      }

      code {
        background: #f4f4f4;
        padding: 2px 6px;
        border-radius: 3px;
        font-family: "Courier New", monospace;
        color: #d63384;
      }

      pre {
        background: #f4f4f4;
        padding: 15px;
        border-radius: 5px;
        overflow-x: auto;
        border-left: 4px solid #2c5f7c;
      }

      .note {
        background: #e8f4f8;
        border-left: 5px solid #2c5f7c;
        padding: 15px;
        margin: 20px 0;
        border-radius: 5px;
      }

      .warning {
        background: #fff3cd;
        border-left: 5px solid #ffc107;
        padding: 15px;
        margin: 20px 0;
        border-radius: 5px;
      }

      .important {
        background: #f8d7da;
        border-left: 5px solid #dc3545;
        padding: 15px;
        margin: 20px 0;
        border-radius: 5px;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
      }

      th {
        background: #2c5f7c;
        color: white;
        padding: 12px;
        text-align: left;
      }

      td {
        padding: 10px;
        border-bottom: 1px solid #ddd;
      }

      tr:hover {
        background: #f5f5f5;
      }

      .button {
        display: inline-block;
        padding: 10px 20px;
        background: #2c5f7c;
        color: white;
        text-decoration: none;
        border-radius: 5px;
        margin: 10px 5px;
      }

      .button:hover {
        background: #1e4558;
      }

      @media screen {
        .print-buttons {
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 1000;
        }
      }

      @media print {
        .print-buttons {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="print-buttons">
      <button class="button" onclick="window.print()">üñ®Ô∏è Imprimir/PDF</button>
      <a class="button" href="especificacao-painel-monitoramento.md"
        >üìÑ Ver Markdown</a
      >
    </div>

    <!-- CAPA -->
    <div class="cover-page">
      <h1>Especifica√ß√£o de Requisitos</h1>
      <div class="subtitle">
        Painel de Monitoramento de Hidr√¥metros<br />
        para Concession√°ria de √Ågua (CAGEPA)
      </div>
      <div class="info">
        <p><strong>Vers√£o:</strong> 2.0</p>
        <p><strong>Data:</strong> 18 de Novembro de 2025</p>
        <p><strong>Institui√ß√£o:</strong> IFPB - Instituto Federal da Para√≠ba</p>
        <p><strong>Disciplina:</strong> Padr√µes de Projeto</p>
      </div>
    </div>

    <div class="page-break"></div>

    <!-- INSTRU√á√ïES -->
    <div class="note">
      <h2>üìñ Como usar este documento</h2>
      <p>
        Este √© um documento HTML interativo que pode ser convertido em PDF de
        duas formas:
      </p>
      <ol>
        <li>
          <strong>Imprimir do Navegador:</strong> Clique no bot√£o "üñ®Ô∏è
          Imprimir/PDF" no canto superior direito ou pressione
          <code>Ctrl+P</code>, depois selecione "Salvar como PDF"
        </li>
        <li>
          <strong>Ver Markdown Original:</strong> Clique no bot√£o "üìÑ Ver
          Markdown" para abrir o arquivo Markdown completo
        </li>
      </ol>
      <p>
        <strong>Nota:</strong> Os diagramas PlantUML est√£o em arquivos separados
        na pasta <code>docs/</code>. Consulte o arquivo
        <code>docs/README.md</code> para instru√ß√µes de visualiza√ß√£o.
      </p>
    </div>

    <!-- SUM√ÅRIO -->
    <div class="toc">
      <h2>üìã Sum√°rio</h2>
      <ul>
        <li><a href="#introducao">1. Introdu√ß√£o</a></li>
        <li>
          <a href="#requisitos-funcionais">2. Requisitos Funcionais</a>
          <ul>
            <li>
              <a href="#gestao-usuarios"
                >2.1 Gest√£o de Usu√°rios e Contas (CRUD)</a
              >
            </li>
            <li><a href="#monitoramento">2.2 Monitoramento de Consumo</a></li>
            <li><a href="#alertas">2.3 Sistema de Alertas</a></li>
            <li><a href="#relatorios">2.4 Relat√≥rios e Auditoria</a></li>
            <li><a href="#administracao">2.5 Administra√ß√£o e Seguran√ßa</a></li>
          </ul>
        </li>
        <li>
          <a href="#requisitos-nao-funcionais">3. Requisitos N√£o-Funcionais</a>
        </li>
        <li><a href="#arquitetura">4. Arquitetura do Sistema</a></li>
        <li><a href="#fachada">5. Especifica√ß√£o da Fachada</a></li>
        <li><a href="#armazenamento">6. Armazenamento de Dados</a></li>
        <li><a href="#diagramas">7. Diagramas de Classes</a></li>
        <li><a href="#casos-uso">8. Casos de Uso Detalhados</a></li>
      </ul>
    </div>

    <div class="page-break"></div>

    <!-- CONTE√öDO PRINCIPAL -->
    <h1 id="introducao">1. INTRODU√á√ÉO</h1>

    <div class="important">
      <strong>‚ö†Ô∏è DOCUMENTO COMPLETO</strong><br />
      Para visualizar a especifica√ß√£o completa com todos os detalhes, requisitos
      funcionais, diagramas de classes e casos de uso, consulte:
      <ul>
        <li>
          <strong>Arquivo Markdown:</strong>
          <code>docs/especificacao-painel-monitoramento.md</code>
        </li>
        <li>
          <strong>Diagramas PlantUML:</strong> Pasta <code>docs/*.puml</code>
        </li>
        <li>
          <strong>Guia de Visualiza√ß√£o:</strong> <code>docs/README.md</code>
        </li>
      </ul>
    </div>

    <h2>1.1 Prop√≥sito</h2>
    <p>
      Este documento especifica os requisitos funcionais e n√£o-funcionais para o
      <strong>Painel de Monitoramento de Hidr√¥metros</strong>, um sistema
      destinado √† gest√£o e monitoramento de consumo de √°gua atrav√©s da an√°lise
      de imagens geradas por Sistemas de Hidr√¥metro de √Ågua (SHA).
    </p>

    <h2>1.2 Escopo</h2>
    <p>
      O Painel de Monitoramento ser√° utilizado pela CAGEPA (Companhia de √Ågua e
      Esgotos da Para√≠ba) para:
    </p>
    <ul>
      <li>‚úÖ Gerenciar usu√°rios e suas contas de √°gua</li>
      <li>üìä Monitorar o consumo individualizado de √°gua em tempo real</li>
      <li>‚ö†Ô∏è Gerar alertas de consumo excessivo</li>
      <li>üìú Manter hist√≥rico de consumo e auditoria</li>
      <li>üîó Integrar com sistemas externos (email, SMS, ERP)</li>
    </ul>

    <h2>1.3 Restri√ß√µes Arquiteturais</h2>

    <div class="warning">
      <strong>‚ö†Ô∏è RESTRI√á√ÉO 1:</strong> O Painel <strong>N√ÉO PODE</strong> ter
      acesso direto √†s funcionalidades internas dos SHA (Sistemas de Hidr√¥metro
      de √Ågua).
    </div>

    <div class="warning">
      <strong>‚ö†Ô∏è RESTRI√á√ÉO 2:</strong> A leitura do consumo dos SHA pelo Painel
      <strong>DEVE</strong> acontecer exclusivamente pela an√°lise das imagens
      geradas pelos SHA.
    </div>

    <div class="page-break"></div>

    <h1 id="arquitetura">2. ARQUITETURA DO SISTEMA</h1>

    <h2>2.1 Vis√£o Geral dos Subsistemas</h2>

    <p>
      O Painel de Monitoramento √© composto por
      <strong>7 subsistemas principais</strong> orquestrados pela
      <strong>Fachada</strong>:
    </p>

    <table>
      <thead>
        <tr>
          <th>Subsistema</th>
          <th>Responsabilidade</th>
          <th>Padr√µes Aplicados</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Gest√£o de Usu√°rios</strong></td>
          <td>CRUD de usu√°rios e hidr√¥metros</td>
          <td>Repository, DTO, Validator, Factory</td>
        </tr>
        <tr>
          <td><strong>Monitoramento de Consumo</strong></td>
          <td>An√°lise e consulta de consumo</td>
          <td>Strategy, Observer, Repository</td>
        </tr>
        <tr>
          <td><strong>Sistema de Alertas</strong></td>
          <td>Detec√ß√£o e notifica√ß√£o de alertas</td>
          <td>Chain of Responsibility, Observer</td>
        </tr>
        <tr>
          <td><strong>Processamento de Imagens</strong></td>
          <td>OCR e extra√ß√£o de dados</td>
          <td>Template Method, Adapter, Scheduler</td>
        </tr>
        <tr>
          <td><strong>Autentica√ß√£o e Seguran√ßa</strong></td>
          <td>Login, autoriza√ß√£o, criptografia</td>
          <td>Proxy, Decorator, Strategy, Singleton</td>
        </tr>
        <tr>
          <td><strong>Persist√™ncia</strong></td>
          <td>Acesso a dados</td>
          <td>DAO, Repository, Unit of Work</td>
        </tr>
        <tr>
          <td><strong>Logs e Auditoria</strong></td>
          <td>Rastreamento de opera√ß√µes</td>
          <td>Singleton, Observer</td>
        </tr>
        <tr>
          <td><strong>Notifica√ß√µes</strong></td>
          <td>Email, SMS, Push, Webhooks</td>
          <td>Strategy, Template Method, Factory</td>
        </tr>
      </tbody>
    </table>

    <div class="page-break"></div>

    <h1 id="diagramas">3. DIAGRAMAS DE CLASSES</h1>

    <div class="note">
      <h3>üìä Visualizando os Diagramas</h3>
      <p>
        Os diagramas de classes est√£o dispon√≠veis em formato PlantUML na pasta
        <code>docs/</code>:
      </p>
      <ul>
        <li><code>diagrama-geral-subsistemas.puml</code> - Vis√£o geral</li>
        <li>
          <code>subsistema-gestao-usuarios.puml</code> - Gest√£o de usu√°rios
        </li>
        <li>
          <code>subsistema-monitoramento-consumo.puml</code> - Monitoramento
        </li>
        <li><code>subsistema-alertas.puml</code> - Sistema de alertas</li>
        <li><code>subsistema-processamento-imagens.puml</code> - OCR</li>
        <li><code>subsistema-autenticacao-seguranca.puml</code> - Seguran√ßa</li>
        <li><code>subsistema-notificacoes.puml</code> - Notifica√ß√µes</li>
      </ul>

      <p><strong>Como visualizar:</strong></p>
      <ol>
        <li>Instale a extens√£o PlantUML no VS Code</li>
        <li>Abra qualquer arquivo <code>.puml</code></li>
        <li>Pressione <code>Alt+D</code> para preview</li>
      </ol>

      <p>
        Ou acesse online:
        <a href="https://www.plantuml.com/plantuml/uml/" target="_blank"
          >https://www.plantuml.com/plantuml/uml/</a
        >
      </p>
    </div>

    <h2>3.1 Diagrama Geral - Comunica√ß√£o entre Subsistemas</h2>
    <p>
      O diagrama geral mostra a comunica√ß√£o entre todos os subsistemas e a
      Fachada.
    </p>
    <pre><code>Ver arquivo: docs/diagrama-geral-subsistemas.puml</code></pre>

    <h2>3.2 Padr√µes de Projeto Utilizados</h2>

    <h3>Padr√µes Estruturais</h3>
    <ul>
      <li>
        <strong>Facade:</strong> Interface unificada (PainelMonitoramentoFacade)
      </li>
      <li><strong>Adapter:</strong> Adapta√ß√£o de bibliotecas OCR</li>
      <li><strong>Proxy:</strong> Controle de acesso a recursos</li>
      <li><strong>Decorator:</strong> Camadas de seguran√ßa</li>
    </ul>

    <h3>Padr√µes Comportamentais</h3>
    <ul>
      <li>
        <strong>Strategy:</strong> M√∫ltiplas estrat√©gias (an√°lise, OCR,
        notifica√ß√£o)
      </li>
      <li><strong>Observer:</strong> Notifica√ß√£o de eventos</li>
      <li>
        <strong>Template Method:</strong> Estrutura comum de processamento
      </li>
      <li><strong>Chain of Responsibility:</strong> Pipeline de valida√ß√£o</li>
    </ul>

    <h3>Padr√µes Criacionais</h3>
    <ul>
      <li><strong>Singleton:</strong> Fachada, gerenciadores √∫nicos</li>
      <li><strong>Factory:</strong> Cria√ß√£o de objetos complexos</li>
      <li><strong>Builder:</strong> Constru√ß√£o de relat√≥rios</li>
    </ul>

    <div class="page-break"></div>

    <h1 id="fachada">4. ESPECIFICA√á√ÉO DA FACHADA</h1>

    <h2>4.1 Classe: PainelMonitoramentoFacade</h2>

    <div class="important">
      <strong>üèõÔ∏è PADR√ÉO FACADE + SINGLETON</strong><br />
      A Fachada √© o <strong>√∫nico ponto de entrada</strong> para todas as
      funcionalidades do Painel.
    </div>

    <h3>M√©todos Principais:</h3>

    <h4>Gest√£o de Usu√°rios</h4>
    <pre><code>UsuarioDTO cadastrarUsuario(DadosCadastroUsuario dados)
UsuarioDTO consultarUsuario(String cpfCnpj)
UsuarioDTO atualizarUsuario(String cpfCnpj, DadosAtualizacaoUsuario dados)
boolean desativarUsuario(String cpfCnpj)
List&lt;UsuarioDTO&gt; listarUsuarios(FiltroBuscaUsuario filtro)</code></pre>

    <h4>Gest√£o de Hidr√¥metros</h4>
    <pre><code>HidrometroDTO associarHidrometro(String cpfUsuario, DadosHidrometro dados)
boolean desassociarHidrometro(String idHidrometro)
List&lt;HidrometroDTO&gt; listarHidrometrosUsuario(String cpfCnpj)</code></pre>

    <h4>Monitoramento de Consumo</h4>
    <pre><code>ConsumoAtualDTO monitorarConsumoSHA(String idHidrometro)
ConsumoConsolidadoDTO monitorarConsumoUsuario(String cpfUsuario)
RelatorioConsumoDTO gerarRelatorioConsumo(FiltroRelatorio filtro)</code></pre>

    <h4>Sistema de Alertas</h4>
    <pre><code>AlertaDTO configurarAlerta(String cpf, ConfiguracaoAlerta config)
List&lt;AlertaDTO&gt; listarAlertasAtivos(String cpf)
List&lt;AlertaDTO&gt; listarAlertasConcessionaria(FiltroAlerta filtro)</code></pre>

    <h4>Administra√ß√£o</h4>
    <pre><code>boolean autenticar(String login, String senha)
void logout()
UsuarioSistemaDTO cadastrarOperador(DadosOperador dados, PerfilAcesso perfil)</code></pre>

    <div class="page-break"></div>

    <h1>5. TECNOLOGIAS RECOMENDADAS</h1>

    <table>
      <thead>
        <tr>
          <th>Componente</th>
          <th>Tecnologia</th>
          <th>Observa√ß√£o</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Backend</strong></td>
          <td>Java 17+ / Spring Boot 3.x</td>
          <td>Framework principal</td>
        </tr>
        <tr>
          <td><strong>Frontend</strong></td>
          <td>React.js / Vue.js</td>
          <td>Interface web moderna</td>
        </tr>
        <tr>
          <td><strong>Banco de Dados</strong></td>
          <td>PostgreSQL 14+</td>
          <td>Dados principais</td>
        </tr>
        <tr>
          <td><strong>Cache</strong></td>
          <td>Redis</td>
          <td>Dados em tempo real</td>
        </tr>
        <tr>
          <td><strong>OCR</strong></td>
          <td>Tesseract / Google Vision</td>
          <td>Extra√ß√£o de texto de imagens</td>
        </tr>
        <tr>
          <td><strong>Email</strong></td>
          <td>JavaMail</td>
          <td>Envio de notifica√ß√µes</td>
        </tr>
        <tr>
          <td><strong>SMS</strong></td>
          <td>Twilio API</td>
          <td>Notifica√ß√µes por SMS</td>
        </tr>
        <tr>
          <td><strong>Push</strong></td>
          <td>Firebase Cloud Messaging</td>
          <td>Notifica√ß√µes mobile</td>
        </tr>
        <tr>
          <td><strong>Logs</strong></td>
          <td>SLF4J + Logback</td>
          <td>Sistema de logs</td>
        </tr>
        <tr>
          <td><strong>Seguran√ßa</strong></td>
          <td>Spring Security + JWT</td>
          <td>Autentica√ß√£o e autoriza√ß√£o</td>
        </tr>
      </tbody>
    </table>

    <div class="page-break"></div>

    <h1>6. CHECKLIST DE IMPLEMENTA√á√ÉO</h1>

    <h2>Fase 1: Funda√ß√£o (Sprints 1-2)</h2>
    <ul>
      <li>‚òê Configurar projeto Spring Boot</li>
      <li>‚òê Configurar banco de dados PostgreSQL</li>
      <li>‚òê Implementar Fachada (PainelMonitoramentoFacade)</li>
      <li>‚òê Implementar Subsistema de Persist√™ncia</li>
      <li>‚òê Implementar Subsistema de Logs</li>
    </ul>

    <h2>Fase 2: Gest√£o de Usu√°rios (Sprint 3)</h2>
    <ul>
      <li>‚òê Implementar CRUD de usu√°rios</li>
      <li>‚òê Implementar CRUD de hidr√¥metros</li>
      <li>‚òê Implementar valida√ß√µes</li>
      <li>‚òê Testes unit√°rios</li>
    </ul>

    <h2>Fase 3: Processamento de Imagens (Sprints 4-5)</h2>
    <ul>
      <li>‚òê Integrar Tesseract OCR</li>
      <li>‚òê Implementar pipeline de processamento</li>
      <li>‚òê Implementar scheduler</li>
      <li>‚òê Valida√ß√£o de dados extra√≠dos</li>
    </ul>

    <h2>Fase 4: Monitoramento (Sprint 6)</h2>
    <ul>
      <li>‚òê Implementar consultas de consumo</li>
      <li>‚òê Implementar agrega√ß√µes</li>
      <li>‚òê Implementar gera√ß√£o de gr√°ficos</li>
      <li>‚òê Dashboard em tempo real</li>
    </ul>

    <h2>Fase 5: Sistema de Alertas (Sprint 7)</h2>
    <ul>
      <li>‚òê Implementar regras de alertas</li>
      <li>‚òê Implementar detec√ß√£o de viola√ß√µes</li>
      <li>‚òê Integrar com notifica√ß√µes</li>
    </ul>

    <div class="note">
      <p>
        <strong>Nota:</strong> Para o checklist completo com todas as 10 fases,
        consulte o arquivo
        <code>docs/especificacao-painel-monitoramento.md</code>
      </p>
    </div>

    <div class="page-break"></div>

    <h1>7. REFER√äNCIAS E RECURSOS</h1>

    <h2>7.1 Documenta√ß√£o do Projeto</h2>
    <ul>
      <li>
        üìÑ <strong>Especifica√ß√£o Completa:</strong>
        <code>docs/especificacao-painel-monitoramento.md</code>
      </li>
      <li>üìä <strong>Diagramas PlantUML:</strong> <code>docs/*.puml</code></li>
      <li>
        üìñ <strong>Guia de Visualiza√ß√£o:</strong> <code>docs/README.md</code>
      </li>
      <li>
        üîß <strong>Script Gera√ß√£o PDF:</strong> <code>gerar-pdf.sh</code> /
        <code>gerar-pdf.ps1</code>
      </li>
    </ul>

    <h2>7.2 Padr√µes de Projeto</h2>
    <ul>
      <li>
        GAMMA, Erich et al.
        <strong
          >Design Patterns: Elements of Reusable Object-Oriented
          Software</strong
        >. Addison-Wesley, 1994.
      </li>
      <li>
        FOWLER, Martin.
        <strong>Patterns of Enterprise Application Architecture</strong>.
        Addison-Wesley, 2002.
      </li>
    </ul>

    <h2>7.3 Tecnologias</h2>
    <ul>
      <li>
        Spring Framework:
        <a href="https://spring.io/projects/spring-boot" target="_blank"
          >https://spring.io/projects/spring-boot</a
        >
      </li>
      <li>
        Tesseract OCR:
        <a href="https://github.com/tesseract-ocr/tesseract" target="_blank"
          >https://github.com/tesseract-ocr/tesseract</a
        >
      </li>
      <li>
        PostgreSQL:
        <a href="https://www.postgresql.org/" target="_blank"
          >https://www.postgresql.org/</a
        >
      </li>
    </ul>

    <h2>7.4 Ferramentas de Diagrama√ß√£o</h2>
    <ul>
      <li>
        PlantUML:
        <a href="https://plantuml.com/" target="_blank"
          >https://plantuml.com/</a
        >
      </li>
      <li>
        PlantUML Web Editor:
        <a href="https://www.plantuml.com/plantuml/uml/" target="_blank"
          >https://www.plantuml.com/plantuml/uml/</a
        >
      </li>
    </ul>

    <div class="page-break"></div>

    <footer
      style="
        text-align: center;
        margin-top: 50px;
        padding-top: 20px;
        border-top: 2px solid #ccc;
      ">
      <p>
        <strong
          >Especifica√ß√£o de Requisitos - Painel de Monitoramento de
          Hidr√¥metros</strong
        >
      </p>
      <p>Vers√£o 2.0 | 18 de Novembro de 2025</p>
      <p>
        IFPB - Instituto Federal da Para√≠ba | Disciplina: Padr√µes de Projeto
      </p>
      <p style="margin-top: 20px; color: #666">
        Este documento foi gerado a partir da especifica√ß√£o completa dispon√≠vel
        em<br />
        <code>docs/especificacao-painel-monitoramento.md</code>
      </p>
    </footer>
  </body>
</html>
